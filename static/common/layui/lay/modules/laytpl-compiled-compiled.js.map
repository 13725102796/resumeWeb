{"version":3,"sources":["laytpl-compiled.js"],"names":[],"mappings":"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","file":"laytpl-compiled-compiled.js","sourcesContent":["/**\n\n@Name : layui.laytpl 模板引擎\n@Author：贤心\n@License：LGPL\n\n*/\n\nlayui.define(function (exports) {\n\n  \"use strict\";\n\n  var config = {\n    open: '{{',\n    close: '}}'\n  };\n\n  var tool = {\n    exp: function (str) {\n      return new RegExp(str, 'g');\n    },\n    //匹配满足规则内容\n    query: function (type, _, __) {\n      var types = ['#([\\\\s\\\\S])+?', //js语句\n      '([^{#}])*?' //普通字段\n      ][type || 0];\n      return exp((_ || '') + config.open + types + config.close + (__ || ''));\n    },\n    escape: function (html) {\n      return String(html || '').replace(/&(?!#?[a-zA-Z0-9]+;)/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&#39;').replace(/\"/g, '&quot;');\n    },\n    error: function (e, tplog) {\n      var error = 'Laytpl Error：';\n      typeof console === 'object' && console.error(error + e + '\\n' + (tplog || ''));\n      return error + e;\n    }\n  };\n\n  var exp = tool.exp,\n      Tpl = function (tpl) {\n    this.tpl = tpl;\n  };\n\n  Tpl.pt = Tpl.prototype;\n\n  window.errors = 0;\n\n  //编译模版\n  Tpl.pt.parse = function (tpl, data) {\n    var that = this,\n        tplog = tpl;\n    var jss = exp('^' + config.open + '#', ''),\n        jsse = exp(config.close + '$', '');\n\n    tpl = tpl.replace(/\\s+|\\r|\\t|\\n/g, ' ').replace(exp(config.open + '#'), config.open + '# ').replace(exp(config.close + '}'), '} ' + config.close).replace(/\\\\/g, '\\\\\\\\').replace(/(?=\"|')/g, '\\\\').replace(tool.query(), function (str) {\n      str = str.replace(jss, '').replace(jsse, '');\n      return '\";' + str.replace(/\\\\/g, '') + ';view+=\"';\n    }).replace(tool.query(1), function (str) {\n      var start = '\"+(';\n      if (str.replace(/\\s/g, '') === config.open + config.close) {\n        return '';\n      }\n      str = str.replace(exp(config.open + '|' + config.close), '');\n      if (/^=/.test(str)) {\n        str = str.replace(/^=/, '');\n        start = '\"+_escape_(';\n      }\n      return start + str.replace(/\\\\/g, '') + ')+\"';\n    });\n\n    tpl = '\"use strict\";var view = \"' + tpl + '\";return view;';\n\n    try {\n      that.cache = tpl = new Function('d, _escape_', tpl);\n      return tpl(data, tool.escape);\n    } catch (e) {\n      delete that.cache;\n      return tool.error(e, tplog);\n    }\n  };\n\n  Tpl.pt.render = function (data, callback) {\n    var that = this,\n        tpl;\n    if (!data) return tool.error('no data');\n    tpl = that.cache ? that.cache(data, tool.escape) : that.parse(that.tpl, data);\n    if (!callback) return tpl;\n    callback(tpl);\n  };\n\n  var laytpl = function (tpl) {\n    if (typeof tpl !== 'string') return tool.error('Template not found');\n    return new Tpl(tpl);\n  };\n\n  laytpl.config = function (options) {\n    options = options || {};\n    for (var i in options) {\n      config[i] = options[i];\n    }\n  };\n\n  laytpl.v = '1.2.0';\n\n  exports('laytpl', laytpl);\n});\n\n//# sourceMappingURL=laytpl-compiled.js.map"]}