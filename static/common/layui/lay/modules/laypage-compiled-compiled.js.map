{"version":3,"sources":["laypage-compiled.js"],"names":[],"mappings":"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","file":"laypage-compiled-compiled.js","sourcesContent":["/**\n \n @Name : layui.laypage 分页组件\n @Author：贤心\n @License：LGPL\n \n */\n\nlayui.define(function (exports) {\n  \"use strict\";\n\n  function laypage(options) {\n    var skin = 'laypagecss';\n    new Page(options);\n  }\n\n  var doc = document,\n      id = 'getElementById',\n      tag = 'getElementsByTagName';\n  var index = 0,\n      Page = function (options) {\n    var that = this;\n    var conf = that.config = options || {};\n    conf.item = index++;\n    that.render(true);\n  };\n\n  Page.on = function (elem, even, fn) {\n    elem.attachEvent ? elem.attachEvent('on' + even, function () {\n      fn.call(elem, window.even); //for ie, this指向为当前dom元素\n    }) : elem.addEventListener(even, fn, false);\n    return Page;\n  };\n\n  //判断传入的容器类型\n  Page.prototype.type = function () {\n    var conf = this.config;\n    if (typeof conf.cont === 'object') {\n      return conf.cont.length === undefined ? 2 : 3;\n    }\n  };\n\n  //分页视图\n  Page.prototype.view = function () {\n    var that = this,\n        conf = that.config,\n        view = [],\n        dict = {};\n    conf.pages = conf.pages | 0;\n    conf.curr = conf.curr | 0 || 1;\n    conf.groups = 'groups' in conf ? conf.groups | 0 : 5;\n    conf.first = 'first' in conf ? conf.first : '&#x9996;&#x9875;';\n    conf.last = 'last' in conf ? conf.last : '&#x672B;&#x9875;';\n    conf.prev = 'prev' in conf ? conf.prev : '&#x4E0A;&#x4E00;&#x9875;';\n    conf.next = 'next' in conf ? conf.next : '&#x4E0B;&#x4E00;&#x9875;';\n\n    if (conf.pages <= 1) {\n      return '';\n    }\n\n    if (conf.groups > conf.pages) {\n      conf.groups = conf.pages;\n    }\n\n    //计算当前组\n    dict.index = Math.ceil((conf.curr + (conf.groups > 1 && conf.groups !== conf.pages ? 1 : 0)) / (conf.groups === 0 ? 1 : conf.groups));\n\n    //当前页非首页，则输出上一页\n    if (conf.curr > 1 && conf.prev) {\n      view.push('<a href=\"javascript:;\" class=\"layui-laypage-prev\" data-page=\"' + (conf.curr - 1) + '\">' + conf.prev + '</a>');\n    }\n\n    //当前组非首组，则输出首页\n    if (dict.index > 1 && conf.first && conf.groups !== 0) {\n      view.push('<a href=\"javascript:;\" class=\"laypage_first\" data-page=\"1\"  title=\"&#x9996;&#x9875;\">' + conf.first + '</a><span>&#x2026;</span>');\n    }\n\n    //输出当前页组\n    dict.poor = Math.floor((conf.groups - 1) / 2);\n    dict.start = dict.index > 1 ? conf.curr - dict.poor : 1;\n    dict.end = dict.index > 1 ? function () {\n      var max = conf.curr + (conf.groups - dict.poor - 1);\n      return max > conf.pages ? conf.pages : max;\n    }() : conf.groups;\n    if (dict.end - dict.start < conf.groups - 1) {\n      //最后一组状态\n      dict.start = dict.end - conf.groups + 1;\n    }\n    for (; dict.start <= dict.end; dict.start++) {\n      if (dict.start === conf.curr) {\n        view.push('<span class=\"layui-laypage-curr\"><em class=\"layui-laypage-em\" ' + (/^#/.test(conf.skin) ? 'style=\"background-color:' + conf.skin + ';' : '') + '\"></em><em>' + dict.start + '</em></span>');\n      } else {\n        view.push('<a href=\"javascript:;\" data-page=\"' + dict.start + '\">' + dict.start + '</a>');\n      }\n    }\n\n    //总页数大于连续分页数，且当前组最大页小于总页，输出尾页\n    if (conf.pages > conf.groups && dict.end < conf.pages && conf.last && conf.groups !== 0) {\n      view.push('<span>&#x2026;</span><a href=\"javascript:;\" class=\"layui-laypage-last\" title=\"&#x5C3E;&#x9875;\"  data-page=\"' + conf.pages + '\">' + conf.last + '</a>');\n    }\n\n    //当前页不为尾页时，输出下一页\n    dict.flow = !conf.prev && conf.groups === 0;\n    if (conf.curr !== conf.pages && conf.next || dict.flow) {\n      view.push(function () {\n        return dict.flow && conf.curr === conf.pages ? '<span class=\"layui-laypage-nomore\" title=\"&#x5DF2;&#x6CA1;&#x6709;&#x66F4;&#x591A;\">' + conf.next + '</span>' : '<a href=\"javascript:;\" class=\"layui-laypage-next\" data-page=\"' + (conf.curr + 1) + '\">' + conf.next + '</a>';\n      }());\n    }\n\n    return '<div class=\"layui-laypage layui-laypage-' + (conf.skin ? function (skin) {\n      return (/^#/.test(skin) ? 'molv' : skin\n      );\n    }(conf.skin) : 'default') + '\" id=\"layui-laypage-' + that.config.item + '\">' + view.join('') + function () {\n      return conf.skip ? '<span class=\"layui-laypage-total\">&#x5230;&#x7B2C; <input type=\"number\" min=\"1\" onkeyup=\"this.value=this.value.replace(/\\\\D/, \\'\\');\" value=\"' + conf.curr + '\" class=\"layui-laypage-skip\"> &#x9875; ' + '<button type=\"button\" class=\"layui-laypage-btn\">&#x786e;&#x5b9a;</button></span>' : '';\n    }() + '</div>';\n  };\n\n  //跳页\n  Page.prototype.jump = function (elem) {\n    if (!elem) return;\n    var that = this,\n        conf = that.config,\n        childs = elem.children;\n    var btn = elem[tag]('button')[0];\n    var input = elem[tag]('input')[0];\n    for (var i = 0, len = childs.length; i < len; i++) {\n      if (childs[i].nodeName.toLowerCase() === 'a') {\n        Page.on(childs[i], 'click', function () {\n          var curr = this.getAttribute('data-page') | 0;\n          conf.curr = curr;\n          that.render();\n        });\n      }\n    }\n    if (btn) {\n      Page.on(btn, 'click', function () {\n        var curr = input.value.replace(/\\s|\\D/g, '') | 0;\n        if (curr && curr <= conf.pages) {\n          conf.curr = curr;\n          that.render();\n        }\n      });\n    }\n  };\n\n  //渲染分页\n  Page.prototype.render = function (load) {\n    var that = this,\n        conf = that.config,\n        type = that.type();\n    var view = that.view();\n    if (type === 2) {\n      conf.cont.innerHTML = view;\n    } else if (type === 3) {\n      conf.cont.html(view);\n    } else {\n      doc[id](conf.cont).innerHTML = view;\n    }\n    conf.jump && conf.jump(conf, load);\n    that.jump(doc[id]('layui-laypage-' + conf.item));\n    if (conf.hash && !load) {\n      location.hash = '!' + conf.hash + '=' + conf.curr;\n    }\n  };\n\n  exports('laypage', laypage);\n});\n\n//# sourceMappingURL=laypage-compiled.js.map"]}