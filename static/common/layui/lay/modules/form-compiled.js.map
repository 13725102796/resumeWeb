{"version":3,"sources":["form.js"],"names":[],"mappings":"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","file":"form-compiled.js","sourcesContent":["/**\n\n @Name：layui.form 表单组件\n @Author：贤心\n @License：LGPL\n    \n */\n \nlayui.define('layer', function(exports){\n  \"use strict\";\n  \n  var $ = layui.jquery\n  ,layer = layui.layer\n  ,hint = layui.hint()\n  ,device = layui.device()\n  \n  ,MOD_NAME = 'form', ELEM = '.layui-form', THIS = 'layui-this', SHOW = 'layui-show'\n  \n  ,Form = function(){\n    this.config = {\n      verify: {\n        required: [\n          /[\\S]+/\n          ,'必填项不能为空'\n        ]\n        ,phone: [\n          /^1\\d{10}$/\n          ,'请输入正确的手机号'\n        ]\n        ,email: [\n          /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/\n          ,'邮箱格式不正确'\n        ]\n        ,url: [\n          /(^#)|(^http(s*):\\/\\/[^\\s]+\\.[^\\s]+)/\n          ,'链接格式不正确'\n        ]\n        ,number: [\n          /^\\d+$/\n          ,'只能填写数字'\n        ]\n        ,date: [\n          /^(\\d{4})[-\\/](\\d{1}|0\\d{1}|1[0-2])([-\\/](\\d{1}|0\\d{1}|[1-2][0-9]|3[0-1]))*$/\n          ,'日期格式不正确'\n        ]\n        ,identity: [\n          /(^\\d{15}$)|(^\\d{17}(x|X|\\d)$)/\n          ,'请输入正确的身份证号'\n        ]\n      }\n    };\n  };\n  \n  //全局设置\n  Form.prototype.set = function(options){\n    var that = this;\n    $.extend(true, that.config, options);\n    return that;\n  };\n  \n  //验证规则设定\n  Form.prototype.verify = function(settings){\n    var that = this;\n    $.extend(true, that.config.verify, settings);\n    return that;\n  };\n  \n  //表单事件监听\n  Form.prototype.on = function(events, callback){\n    return layui.onevent(MOD_NAME, events, callback);\n  };\n  \n  //表单控件渲染\n  Form.prototype.render = function(type){\n    var that = this, items = {\n      //下拉选择框\n      select: function(){\n        var TIPS = '请选择', CLASS = 'layui-form-select', TITLE = 'layui-select-title'\n        \n        ,selects = $(ELEM).find('select'), hide = function(e, clear){\n          if(!$(e.target).parent().hasClass(TITLE) || clear){\n            $('.'+CLASS).removeClass(CLASS+'ed');\n          }\n        }\n        \n        ,events = function(reElem){\n          var select = $(this), title = reElem.find('.' + TITLE);\n          \n          //展开下拉\n          title.on('click', function(e){\n            reElem.hasClass(CLASS+'ed') ? reElem.removeClass(CLASS+'ed') : (\n              hide(e, true), \n              reElem.addClass(CLASS+'ed')\n            );\n          });\n          \n          //选择\n          reElem.find('ul>li').on('click', function(){\n            var othis = $(this), value = othis.attr('lay-value');\n            var filter = select.attr('lay-filter'); //获取过滤器\n            \n            select.val(value).removeClass('layui-form-danger'), title.find('input').val(othis.text());\n            othis.addClass(THIS).siblings().removeClass(THIS);\n            layui.event(MOD_NAME, 'select('+ filter +')', {\n              elem: select[0]\n              ,value: value\n            });\n          });\n          \n          //关闭下拉\n          $(document).off('click', hide).on('click', hide)\n        }\n        \n        selects.each(function(index, select){\n          var othis = $(this), hasRender = othis.next('.'+CLASS);\n          var value = select.value, selected = $(select.options[select.selectedIndex]); //获取当前选中项\n          \n          //替代元素\n          var reElem = $(['<div class=\"layui-unselect '+ CLASS +'\">'\n            ,'<div class=\"'+ TITLE +'\"><input type=\"text\" placeholder=\"'+ (select.options[0].innerHTML ? select.options[0].innerHTML : TIPS) +'\" value=\"'+ (value ? selected.html() : '') +'\" readonly class=\"layui-input layui-unselect\">'\n            ,'<i class=\"layui-edge\"></i></div>'\n            ,'<ul class=\"layui-anim layui-anim-upbit\">'+ function(options){\n              var arr = [];\n              layui.each(options, function(index, item){\n                if(index === 0 && !item.value) return;\n                arr.push('<li lay-value=\"'+ item.value +'\" '+ (value === item.value \n                  ? 'class=\"'+ THIS +'\"' \n                : '')+'>'+ item.innerHTML +'</li>');\n              });\n              return arr.join('');\n            }(this.options) +'</ul>'\n          ,'</div>'].join(''));\n          \n          hasRender[0] && hasRender.remove(); //如果已经渲染，则Rerender\n          othis.after(reElem);\n          events.call(this, reElem);\n        });\n      }\n      //复选框/开关\n      ,checkbox: function(){\n        var CLASS = {\n          checkbox: ['layui-form-checkbox', 'layui-form-checked', 'checkbox']\n          ,_switch: ['layui-form-switch', 'layui-form-onswitch', 'switch']\n        }\n        ,checks = $(ELEM).find('input[type=checkbox]')\n        \n        ,events = function(reElem, RE_CLASS){\n          var check = $(this);\n          \n          //勾选\n          reElem.on('click', function(){\n            var filter = check.attr('lay-filter'); //获取过滤器\n            check[0].checked ? (\n              check[0].checked = false\n              ,reElem.removeClass(RE_CLASS[1])\n            ) : (\n              check[0].checked = true\n              ,reElem.addClass(RE_CLASS[1])\n            );\n            layui.event(MOD_NAME, RE_CLASS[2]+'('+ filter +')', {\n              elem: check[0]\n              ,value: check[0].value\n            });\n          });\n        }\n        \n        checks.each(function(index, check){\n          var othis = $(this), skin = othis.attr('lay-skin');\n          if(skin === 'switch') skin = '_'+skin;\n          var RE_CLASS = CLASS[skin] || CLASS.checkbox;\n          \n          //替代元素\n          var hasRender = othis.next('.' + RE_CLASS[0]);\n          var reElem = $(['<div class=\"layui-unselect '+ RE_CLASS[0] + (\n            check.checked ? (' '+RE_CLASS[1]) : '') +'\">'\n          ,{\n            _switch: '<i></i>'\n          }[skin] || ('<span>'+ (check.title || '勾选') +'</span><i class=\"layui-icon\">&#xe618;</i>')\n          ,'</div>'].join(''));\n\n          hasRender[0] && hasRender.remove(); //如果已经渲染，则Rerender\n          othis.after(reElem);\n          events.call(this, reElem, RE_CLASS);\n        });\n      }\n      //单选框\n      ,radio: function(){\n        var CLASS = 'layui-form-radio', ICON = ['&#xe643;', '&#xe63f;']\n        ,radios = $(ELEM).find('input[type=radio]')\n        \n        ,events = function(reElem){\n          var radio = $(this), ANIM = 'layui-anim-scaleSpring';\n          \n          reElem.on('click', function(){\n            var name = radio[0].name, forms = radio.parents(ELEM);\n            var filter = radio.attr('lay-filter'); //获取过滤器\n            var sameRadio = forms.find('input[name='+ name +']'); //找到相同name的兄弟\n            \n            layui.each(sameRadio, function(){\n              var next = $(this).next('.'+CLASS);\n              this.checked = false;\n              next.removeClass(CLASS+'ed');\n              next.find('.layui-icon').removeClass(ANIM).html(ICON[1]);\n            });\n            \n            radio[0].checked = true;\n            reElem.addClass(CLASS+'ed');\n            reElem.find('.layui-icon').addClass(ANIM).html(ICON[0]);\n            \n            layui.event(MOD_NAME, 'radio('+ filter +')', {\n              elem: radio[0]\n              ,value: radio[0].value\n            });\n          });\n        };\n        \n        radios.each(function(index, radio){\n          var othis = $(this), hasRender = othis.next('.' + CLASS);\n          \n          //替代元素\n          var reElem = $(['<div class=\"layui-unselect '+ CLASS + (radio.checked ? (' '+CLASS+'ed') : '') +'\">'\n          ,'<i class=\"layui-anim layui-icon\">'+ ICON[radio.checked ? 0 : 1] +'</i>'\n          ,'<span>'+ (radio.title||'未命名') +'</span>'\n          ,'</div>'].join(''));\n          \n          hasRender[0] && hasRender.remove(); //如果已经渲染，则Rerender\n          othis.after(reElem);\n          events.call(this, reElem);\n        });\n      }\n    };\n    type ? (\n      items[type] ? items[type]() : hint.error('不支持的'+ type + '表单渲染')\n    ) : layui.each(items, function(index, item){\n      item();\n    });\n    return that;\n  };\n  \n  //表单提交校验\n  var submit = function(){\n    var button = $(this), verify = form.config.verify, stop = null\n    ,DANGER = 'layui-form-danger', field = {} ,elem = button.parents(ELEM)\n    \n    ,verifyElem = elem.find('*[lay-verify]') //获取需要校验的元素\n    ,formElem = button.parents('form')[0] //获取当前所在的form元素，如果存在的话\n    ,fieldElem = elem.find('input,select,textarea') //获取所有表单域\n    ,filter = button.attr('lay-filter'); //获取过滤器\n \n    //开始校验\n    layui.each(verifyElem, function(_, item){\n      var othis = $(this), ver = othis.attr('lay-verify'), tips = '';\n      var value = othis.val(), isFn = typeof verify[ver] === 'function';\n      othis.removeClass(DANGER);\n      if(verify[ver] && (isFn ? tips = verify[ver](value, item) : !verify[ver][0].test(value)) ){\n        layer.msg(tips || verify[ver][1], {\n          icon: 5\n          ,shift: 6\n        });\n        //非移动设备自动定位焦点\n        if(!device.android && !device.ios){\n          item.focus();\n        }\n        othis.addClass(DANGER);\n        return stop = true;\n      }\n    });\n    \n    if(stop) return false;\n    \n    layui.each(fieldElem, function(_, item){\n      if(!item.name) return;\n      if(/^checkbox|radio$/.test(item.type) && !item.checked) return;\n      field[item.name] = item.value;\n    });\n \n    //获取字段\n    return layui.event.call(this, MOD_NAME, 'submit('+ filter +')', {\n      elem: this\n      ,form: formElem\n      ,field: field\n    });\n  };\n\n  //自动完成渲染\n  var form = new Form(), body = $('body');\n  form.render();\n  \n  //表单reset重置渲染\n  body.on('reset', ELEM, function(){\n    setTimeout(function(){\n      form.render();\n    }, 50);\n  });\n  \n  //表单提交事件\n  body.on('submit', ELEM, submit)\n  .on('click', '*[lay-submit]', submit);\n  \n  exports(MOD_NAME, function(options){\n    return form.set(options);\n  });\n});\n\n \n"]}